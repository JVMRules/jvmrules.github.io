<!DOCTYPE html>
<html>
<head>
    <title>DVARE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="css/style.css" rel="stylesheet" media="screen, print">
    <link href="css/bootstrap-toc.css" rel="stylesheet"/>

    <link href="img/favicon.ico" rel="icon" type="image/x-icon">
</head>
<body data-offset="100" data-spy="scroll" data-target="#toc" >

<div class="container-fluid" >
    <div class="row-fluid">
        <style>.forkme {
            position: absolute;
            top: 0;
            right: 0;
            border: 0;
        }</style>
        <a href="https://github.com/DVARE/DVARE#fork-destination-box">
            <img class="forkme" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
                 alt="Fork me on GitHub">
        </a>

        <div id="sidenav" class="span2">


            <nav id="toc" data-spy="affix" data-toggle="toc"></nav>

        </div>
        <div id="content">
            <div id="row">
                <div class="col-lg-12">
                    <div style="margin-bottom: 10px;background-color: #0088cc;">
                        <img src="img/logo.png"/></div>
                </div>

            </div>


            <div id="sections">

                <div id="header">
                    <div id="dvare"><h2 id="welcome">What is DVARE</h2>
                        <p>DVARE is lightweight rule-based framework build to support to data validation and
                            aggregation.
                            DARE validation and aggregation provide the engine to run validation constraints and
                            aggregation
                            rules</p>
                    </div>
                </div>

                <section>
                    <h2 id="basicRule">Basic Rule</h2>

                    <div class="panel panel-default">
                        <div class="panel-heading">Basic Rule</div>
                        <div class="panel-body">
<pre class="prettyprint">
<code class="language-java">
@Rule(name = "basicRule", priority = 0)
public class BasicRule {
    private Integer age;
    @Condition
    public boolean condition() {
        return age > 20 && age < 30;
    }
    @Success
    public void success() {
        System.out.println("Rule Successfully Run");
    }
}
</code>
</pre>

                            <pre class="prettyprint">
<code class="language-java">
public class BasicTest extends TestCase {
    @Test
    public void testApp() throws IllegalRuleException {

        RuleEngine ruleEngine = new RuleEngine();
        BasicRule basicRule = new BasicRule();
        basicRule.setAge(25);
        ruleEngine.registerRule(basicRule);
        ruleEngine.fireRules();
        }
}
</code>
</pre>
                        </div>
                    </div>

                </section>
                <section id="dvareRule">
                    <h2>Dvare Based Rule</h2>

                    <div class="panel panel-default">
                        <div class="panel-heading">Dvare Based Rule</div>
                        <div class="panel-body">
<pre class="prettyprint">
<code class="language-java">
@Rule(name = "dvareRule", priority = 0)
public class DvareBasedRule {

    private Integer age;

    @Condition
    public boolean condition() {
        RuleConfiguration configuration = new RuleConfiguration();
        TextRuleEngine textRuleEngine = new TextRuleEngine(configuration);

        TypeBinding typeBinding = new TypeBinding();
        typeBinding.addTypes("age", "IntegerType");

        DataRow dataRow = new DataRow();
        dataRow.addData("age", age);

        boolean result = false;

        String rule = "age > 20 And age < 30";

        try {
            result = textRuleEngine.evaluate(rule, typeBinding, dataRow);
        } catch (ExpressionParseException e) {
            e.printStackTrace();
        }

        return result;
    }


    @Condition
    public boolean condition2() {
        RuleConfiguration configuration = new RuleConfiguration();
        TextRuleEngine textRuleEngine = new TextRuleEngine(configuration);

        TypeBinding typeBinding = new TypeBinding();
        typeBinding.addTypes("age", "IntegerType");

        DataRow dataRow = new DataRow();
        dataRow.addData("age", age);

        boolean result = false;

        URL url = this.getClass().getClassLoader().getResource("rules/age_rule.dvare");
        File rule = new File(url.getFile());

        try {
            result = textRuleEngine.evaluate(rule, typeBinding, dataRow);
        } catch (ExpressionParseException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }
        return result;
    }

    @Success
    public void success() {
        System.out.println("Rule Successfully Run");
    }

    @Fail
    public void fail() {
        System.out.println("Rule Failed");
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }
}
</code>
</pre>

                            <pre class="prettyprint">
<code class="language-java">
public class DvareBasedRuleTest extends TestCase {
    @Test
    public void testApp() throws IllegalRuleException {

        RuleEngine ruleEngine = new RuleEngine();
        DvareBasedRule dvareRule = new DvareBasedRule();
        dvareRule.setAge(25);
        ruleEngine.registerRule(dvareRule);

        DvareBasedRule dvareRule2 = new DvareBasedRule();
        dvareRule2.setAge(35);
        ruleEngine.registerRule(dvareRule2);

        ruleEngine.fireRules();

    }
}
</code>
</pre>
                        </div>
                    </div>
                </section>

                <section id="dataTypes">
                    <h2>Data Types</h2>

                    <div class="panel panel-default">
                        <div class="panel-heading">Data Types</div>
                        <div class="panel-body">
                            <table>
                                <thead>
                                <tr>
                                    <th>Data Type</th>
                                    <th>Type</th>
                                    <th>List Type</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>String</td>
                                    <td>'A'</td>
                                    <td>{'A','B'}</td>
                                </tr>
                                <tr>
                                    <td>Integer</td>
                                    <td>4</td>
                                    <td>{2,5}</td>
                                </tr>
                                <tr>
                                    <td>Float</td>
                                    <td>4.2</td>
                                    <td>{3.1,5.5}</td>
                                </tr>
                                <tr>
                                    <td>Boolean</td>
                                    <td>true,false</td>
                                    <td>{true,false}</td>
                                </tr>
                                <tr>
                                    <td>Regex</td>
                                    <td>R'*'</td>
                                    <td>[R'*',R'*']</td>
                                </tr>
                                <tr>
                                    <td>Date</td>
                                    <td>[15-01-12016]</td>
                                    <td>{[15-01-2016],[20-02-2016]}</td>
                                </tr>
                                <tr>
                                    <td>DateTime</td>
                                    <td>[15-01-12016-10:20:56]</td>
                                    <td>{[15-01-12016-15:20:56],[20-02-12016-23:20:56]}</td>
                                </tr>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <section id="validation-operations">
                    <h2>Validation Operations</h2>
                    <p></p>
                    <div id="equalityOperations">
                        <div class="panel panel-default">
                            <div class="panel-heading">Comparison Operations</div>
                            <div class="panel-body">
                                <table>
                                    <thead>
                                    <tr>
                                        <th> Operation Name</th>
                                        <th> Syntax</th>
                                        <th> DataTypes</th>
                                        <th> Operand</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td> EQUAL</td>
                                        <td> eq, =</td>
                                        <td> Integer, Float, String, Boolean, Regex, Date, DateTime</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> NOT EQUAL</td>
                                        <td> ne, !=, <></td>
                                        <td> Integer, Float, String, Boolean, Regex, Date, DateTime</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> LESS</td>
                                        <td> lt, <</td>
                                        <td> Integer, Float, String, Date, DateTime</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> LESS EQUAL</td>
                                        <td> le, <=</td>
                                        <td> Integer, Float, String, Date, DateTime</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> GERATER</td>
                                        <td> gt, ></td>
                                        <td> Integer, Float, String, Date, DateTime</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> GERATER EQUAL</td>
                                        <td> ge, >=</td>
                                        <td> Integer, Float, String, Date, DateTime</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> INL</td>
                                        <td> IN,In ,in</td>
                                        <td> Integer, Float, String, Boolean,Regex, Date, DateTime</td>
                                        <td> List Type</td>
                                    </tr>
                                    <tr>
                                        <td> BETWEENL</td>
                                        <td> Between, between</td>
                                        <td> Integer, Float, Date, DateTime</td>
                                        <td> List [size=2]</td>
                                    </tr>
                                    <tr>
                                        <td> AND</td>
                                        <td> AND, And, and</td>
                                        <td> Boolean</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> OR</td>
                                        <td> OR, Or, or</td>
                                        <td> Boolean</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> IMPLIES</td>
                                        <td> Implies, implies, =></td>
                                        <td> Boolean</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> NOT</td>
                                        <td> NOT, Not, not</td>
                                        <td> Boolean</td>
                                        <td> Single Type</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <br/>
                    <div id="arithmeticOperations">
                        <div class="panel panel-default">
                            <div class="panel-heading">Arithmetic Operations</div>
                            <div class="panel-body">
                                <table>
                                    <thead>
                                    <tr>
                                        <th> Operation Name</th>
                                        <th> Syntax</th>
                                        <th> DataTypes</th>
                                        <th> Operand</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td> Sum</td>
                                        <td> sum, +</td>
                                        <td> Integer, Float</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> Subtract</td>
                                        <td> sub, -<></td>
                                        <td> Integer, Float</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> Multiple</td>
                                        <td> mul, *</td>
                                        <td> Integer, Float</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> Divide</td>
                                        <td> div, /</td>
                                        <td> Integer, Float</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> Pow</td>
                                        <td> pow, ^</td>
                                        <td> Integer, Float</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> Minimum</td>
                                        <td> min</td>
                                        <td> Integer, Float</td>
                                        <td> Single Type</td>
                                    </tr>
                                    <tr>
                                        <td> Maximum</td>
                                        <td> max</td>
                                        <td> Integer, Float</td>
                                        <td> Single Type</td>
                                    </tr>

                                    </tbody>
                                </table>


                            </div>
                        </div>
                    </div>

                </section>

                <section id="datacall-operations">
                    <h2>Data Operations</h2>
                    <div id="functioncall">

                        <div class="panel panel-default">
                            <div class="panel-heading">Function Call</div>
                            <div class="panel-body">
                                <table>
                                    <thead>
                                    <tr>
                                        <th> Operation Name</th>
                                        <th> Syntax</th>
                                        <th> DataTypes</th>
                                        <th> Operand</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td> Function Call</td>
                                        <td> fun ( name , argements)</td>
                                        <td> Literal, Integer, Float, String, Boolean, Regex, Date, DateTime</td>
                                        <td> Single or List</td>
                                    </tr>
                                    <tr>

                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="examples">
                    <h2>Examples</h2>

                    <div class="panel panel-default">
                        <div class="panel-heading">Dvare Example</div>
                        <div class="panel-body">
<pre class="prettyprint">
<code class="language-java">
public class DvareRuleTest extends TestCase {

    @Test
    public void testApp() throws ExpressionParseException {
        RuleConfiguration factory = new RuleConfiguration(new String[]{"com.dvare.function"});

        TypeBinding typeBinding = new TypeBinding();
        typeBinding.addTypes("Variable0", "IntegerType");
        typeBinding.addTypes("Variable1", "StringType");
        typeBinding.addTypes("Variable2", "IntegerType");
        typeBinding.addTypes("Variable3", "FloatType");
        typeBinding.addTypes("Variable4", "BooleanType");
        typeBinding.addTypes("Variable5", "DateType");
        typeBinding.addTypes("Variable6", "DateTimeType");
        typeBinding.addTypes("Variable7", "RegexType");

        String exp = "Variable2 = (1 + 2) " +
                " And Variable0 <= fun( testFunction , 10 ) " +
                " And Variable1 in ['A','B'] " +
                " And Variable2 between [2,4]" +
                " And Variable3 > 3.0 " +
                " And Variable4 = false " +
                " And Variable5 in [12-05-2016,13-05-2016] " +
                " And Variable6 in [12-05-2016-15:30:00,13-05-2016-15:30:00] " +
                " And Variable7 in [R'B1.*',R'A1.*'] ";

        Expression expression = factory.getParser().fromString(exp, typeBinding);
        Rule rule = new com.dvare.binding.rule.Rule(expression);

        DataRow dataRow = new DataRow();
        dataRow.addData("Variable0", 10);
        dataRow.addData("Variable1", "'A'");
        dataRow.addData("Variable2", 3);
        dataRow.addData("Variable3", 3.2);
        dataRow.addData("Variable4", false);
        dataRow.addData("Variable5", "12-05-2016");
        dataRow.addData("Variable6", "12-05-2016-15:30:00");
        dataRow.addData("Variable7", "'A1B2'");

        RuleEvaluator evaluator = factory.getEvaluator();
        ValidationRuleResult ruleResult = evaluator.evaluate(rule, dataRow);

        boolean result = ruleResult.isError();

        assertFalse(result);

    }
}

</code>
</pre>

                        </div>
                    </div>

                </section>
                <div id="footer">
                    <div id="api-_footer">
                        <p>Suggestions, contact, support and error reporting on <a
                                href="https://github.com/dvare/dvare/issues">GitHub</a></p>
                    </div>
                </div>
                <div id="generator">
                    <div class="content">
                        DVARE 2016
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="js/bootstrap-toc.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true&amp;skin=sunburst&amp;lang=css"
        defer="defer"></script>


</body>
</html>
