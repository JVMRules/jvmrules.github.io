<!DOCTYPE html>
<html>
<head>
    <title>DVARE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="css/style.css" rel="stylesheet" media="screen, print">

    <link href="img/favicon.ico" rel="icon" type="image/x-icon">
</head>
<body>

<div class="container-fluid" data-offset="0" data-spy="scroll" data-target="#">
    <div class="row-fluid">
        <style>.forkme {
            position: absolute;
            top: 0;
            right: 0;
            border: 0;
        }</style>
        <a href="https://github.com/DVARE/DVARE#fork-destination-box">
            <img class="forkme" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
                 alt="Fork me on GitHub">
        </a>

        <div id="sidenav" class="span2">
            <nav id="scrollingNav">
                <ul class="sidenav nav nav-list">
                    <li class="nav-fixed nav-header active"><a href="#dvare">DVARE</a></li>
                    <li class="nav-header"><a href="#dataType">DataTypes</a></li>
                    <li>
                        <a href="#dataTypes">DataTypes</a>
                    </li>
                    <li class="nav-header"><a href="#validation-operations">Validation
                        Operations</a>
                    </li>
                    <li>
                        <a href="#equalityOperations">Comparison</a>
                    </li>
                    <li>
                        <a href="#arithmeticOperations">Arithmetic</a>
                    </li>
                    <li class="nav-header"><a href="#datacall-operations">Data Operations</a>
                    </li>
                    <li>
                        <a href="#functioncall">Function Call</a>
                    </li>
                    <li>
                        <a href="#serviceCall">Service Call</a>
                    </li>
                    <li class="nav-header"><a href="#examples">Example</a>
                    </li>
                    <li>
                        <a href="#datavalidation">Data Validation</a>
                    </li>

                </ul>
            </nav>
        </div>
        <div id="content">
            <div id="project">
                <div class="pull-left">
                    <h1>DVARE</h1>
                </div>
                <div class="clearfix"></div>
            </div>
            <div id="header">
                <div id="dvare"><h2 id="welcome">What is DVARE</h2>
                    <p>DVARE is lightweight rule-based framework build to support to data validation and aggregation.
                        DARE validation and aggregation provide the engine to run validation constraints and aggregation
                        rules</p>
                </div>
            </div>
            <div id="sections">

                <section id="dataTypes">
                    <h2>Data Types</h2>
                    <ul class="nav nav-tabs nav-tabs-examples">
                        <li class="active">
                            <a>Data Types</a>
                        </li>
                    </ul>
                    <table>
                        <thead>
                        <tr>
                            <th>Data Type</th>
                            <th>Type</th>
                            <th>List Type</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>String</td>
                            <td>'A'</td>
                            <td>{'A','B'}</td>
                        </tr>
                        <tr>
                            <td>Integer</td>
                            <td>4</td>
                            <td>{2,5}</td>
                        </tr>
                        <tr>
                            <td>Float</td>
                            <td>4.2</td>
                            <td>{3.1,5.5}</td>
                        </tr>
                        <tr>
                            <td>Boolean</td>
                            <td>true,false</td>
                            <td>{true,false}</td>
                        </tr>
                        <tr>
                            <td>Regex</td>
                            <td>R'*'</td>
                            <td>[R'*',R'*']</td>
                        </tr>
                        <tr>
                            <td>Date</td>
                            <td>[15-01-12016]</td>
                            <td>{[15-01-2016],[20-02-2016]}</td>
                        </tr>
                        <tr>
                            <td>DateTime</td>
                            <td>[15-01-12016-10:20:56]</td>
                            <td>{[15-01-12016-15:20:56],[20-02-12016-23:20:56]}</td>
                        </tr>
                        </tr>
                        </tbody>
                    </table>

                </section>

                <section id="validation-operations">
                    <h2>Validation Operations</h2>
                    <p></p>
                    <div id="equalityOperations">
                        <ul class="nav nav-tabs nav-tabs-examples">
                            <li class="active">
                                <a>Comparison Operations</a>
                            </li>

                        </ul>
                        <table>
                            <thead>
                            <tr>
                                <th> Operation Name</th>
                                <th> Syntax</th>
                                <th> DataTypes</th>
                                <th> Operand</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td> EQUAL</td>
                                <td> eq, =</td>
                                <td> Integer, Float, String, Boolean, Regex, Date, DateTime</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> NOT EQUAL</td>
                                <td> ne, !=, <></td>
                                <td> Integer, Float, String, Boolean, Regex, Date, DateTime</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> LESS</td>
                                <td> lt, <</td>
                                <td> Integer, Float, String, Date, DateTime</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> LESS EQUAL</td>
                                <td> le, <=</td>
                                <td> Integer, Float, String, Date, DateTime</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> GERATER</td>
                                <td> gt, ></td>
                                <td> Integer, Float, String, Date, DateTime</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> GERATER EQUAL</td>
                                <td> ge, >=</td>
                                <td> Integer, Float, String, Date, DateTime</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> INL</td>
                                <td> IN,In ,in</td>
                                <td> Integer, Float, String, Boolean,Regex, Date, DateTime</td>
                                <td> List Type</td>
                            </tr>
                            <tr>
                                <td> BETWEENL</td>
                                <td> Between, between</td>
                                <td> Integer, Float, Date, DateTime</td>
                                <td> List [size=2]</td>
                            </tr>
                            <tr>
                                <td> AND</td>
                                <td> AND, And, and</td>
                                <td> Boolean</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> OR</td>
                                <td> OR, Or, or</td>
                                <td> Boolean</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> IMPLIES</td>
                                <td> Implies, implies, =></td>
                                <td> Boolean</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> NOT</td>
                                <td> NOT, Not, not</td>
                                <td> Boolean</td>
                                <td> Single Type</td>
                            </tr>
                            </tbody>
                        </table>

                    </div>
                    <br/>
                    <div id="arithmeticOperations">
                        <ul class="nav nav-tabs nav-tabs-examples">
                            <li class="active">
                                <a>Arithmetic Operations</a>
                            </li>
                        </ul>
                        <table>
                            <thead>
                            <tr>
                                <th> Operation Name</th>
                                <th> Syntax</th>
                                <th> DataTypes</th>
                                <th> Operand</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td> Sum</td>
                                <td> sum, +</td>
                                <td> Integer, Float</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> Subtract</td>
                                <td> sub, -<></td>
                                <td> Integer, Float</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> Multiple</td>
                                <td> mul, *</td>
                                <td> Integer, Float</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> Divide</td>
                                <td> div, /</td>
                                <td> Integer, Float</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> Pow</td>
                                <td> pow, ^</td>
                                <td> Integer, Float</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> Minimum</td>
                                <td> min</td>
                                <td> Integer, Float</td>
                                <td> Single Type</td>
                            </tr>
                            <tr>
                                <td> Maximum</td>
                                <td> max</td>
                                <td> Integer, Float</td>
                                <td> Single Type</td>
                            </tr>

                            </tbody>
                        </table>


                    </div>

                </section>

                <section id="datacall-operations">
                    <h2>Data Operations</h2>
                    <div id="functioncall">
                        <ul class="nav nav-tabs nav-tabs-examples">
                            <li class="active">
                                <a>Function Call</a>
                            </li>
                        </ul>
                        <table>
                            <thead>
                            <tr>
                                <th> Operation Name</th>
                                <th> Syntax</th>
                                <th> DataTypes</th>
                                <th> Operand</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td> Function Call</td>
                                <td> fun ( name , argements)</td>
                                <td> Literal, Integer, Float, String, Boolean, Regex, Date, DateTime</td>
                                <td> Single or List</td>
                            </tr>
                            <tr>

                            </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
                <section id="examples">
                    <h2>Examples</h2>
                    <div id="datavalidation">

                        <pre class="prettyprint">
                            <code class="language-java">
package com.dvare;

import com.dvare.binding.data.DataRow;
import com.dvare.binding.data.DataSet;
import com.dvare.binding.function.FunctionBinding;
import com.dvare.binding.validation.ValidationResult;
import com.dvare.binding.validation.ValidationRuleResult;
import com.dvare.config.RuleConfiguration;
import com.dvare.exceptions.ExpressionParseException;
import com.dvare.expression.Expression;
import com.dvare.expression.datatype.IntegerType;
import com.dvare.binding.rule.Rule;
import com.dvare.binding.rule.RuleRegistry;
import com.dvare.evaluator.RuleEvaluator;

import java.util.HashMap;
import java.util.Map;

public class MyApp {

    public static void main(String[] args) throws ExpressionParseException, ClassNotFoundException {
       RuleConfiguration factory = new RuleConfiguration();
        String _package = "com.dvare";
        String _class = "MyApp";
        Class tableClass = Class.forName(_package + "." + _class);
        FunctionBinding tableBinding = new FunctionBinding("testFunction", tableClass, new IntegerType());
        factory.registerFunction(tableBinding);

        Map<String, String> types = new HashMap<>();
        types.put("V0", "IntegerType");
        types.put("V1", "StringType");
        types.put("V2", "IntegerType");
        types.put("V3", "FloatType");
        types.put("V4", "BooleanType");
        types.put("V5", "DateType");
        types.put("V6", "DateTimeType");
        types.put("V7", "RegexType");

        String exp = "V2 = (1 + 2) " +
                " And V0 <= fun( testFunction , 10 ) " +
                " And V1 in ['A','B'] " +
                " And V2 between [2,4]" +
                " And V3 > 3.0 " +
                " And V4 = false " +
                " And V5 in [12-05-2016,13-05-2016] " +
                " And V6 in [12-05-2016-15:30:00,13-05-2016-15:30:00] " +
                " And V7 in [R'B1.*',R'A1.*'] ";

        Expression expression = factory.getParser().fromString(exp, types);
        Rule rule = new Rule(expression);
        RuleRegistry rules = new RuleRegistry(rule);

        Map<String, Object> dataRow = new HashMap<>();
        dataRow.put("V0", "10");
        dataRow.put("V1", "'A'");
        dataRow.put("V2", "3");
        dataRow.put("V3", "3.2");
        dataRow.put("V4", "false");
        dataRow.put("V5", "12-05-2016");
        dataRow.put("V6", "12-05-2016-15:30:00");
        dataRow.put("V7", "A1B2");

        DataSet dataSet = new DataSet();
        dataSet.addRow(new DataRow(dataRow));

        RuleEvaluator evaluator = factory.getEvaluator();
        ValidationResult results = evaluator.evaluate(rules, dataSet);

        for (ValidationRuleResult ruleResult : results.getResults()) {
            boolean result = !ruleResult.isError();
            System.out.println("ValidationResult : " + result);
        }
    }

    public Integer testFunction(Integer veriable) {
        System.out.println("inside testFunction with argument literal: " + veriable);
        return veriable;
    }

}
                            </code>
                        </pre>
                    </div>
                </section>
                <div id="footer">
                    <div id="api-_footer">
                        <p>Suggestions, contact, support and error reporting on <a
                                href="https://github.com/dvare/dvare/issues">GitHub</a></p>
                    </div>
                </div>
                <div id="generator">
                    <div class="content">
                        DVARE 2016
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true&amp;skin=sunburst&amp;lang=css"
            defer="defer"></script>
</body>
</html>
